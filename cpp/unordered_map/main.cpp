#include <iostream>
#include <unordered_map>
#include <vector>

struct FU_CONTOUR
{
    uint32_t contour_idx;
    float x;
    float y;
};

#define REC__DETECT__FU_CONTOUR__MAX_NO (2048)

int main()
{
    std::vector<FU_CONTOUR> did_contours = {
        { 3830, 10.994167, 1.964043 },  { 6608, 28.826248, 51.037802 }, { 1103, 74.609247, 10.326279 },
        { 1164, 68.047811, 12.233655 }, { 1712, 53.836988, 83.8605 },   { 1076, 86.165628, 90.927132 },
        { 5207, 89.616703, 47.817279 }, { 6247, 6.538544, 22.044272 },  { 3734, 0.035902, 78.474371 },
        { 5450, 5.469306, 53.942627 },  { 1202, 11.811179, 93.73757 },  { 1983, 50.617969, 66.984828 },
        { 7700, 14.751991, 46.450536 }, { 7552, 89.044588, 91.438105 }, { 6870, 69.354376, 9.067512 },
        { 7468, 34.538669, 25.376686 }, { 5591, 21.325678, 79.947547 }, { 7341, 90.519071, 10.45726 },
        { 3228, 18.421026, 2.199132 },  { 5523, 68.294084, 89.762925 }, { 6463, 73.805489, 88.726351 },
        { 1942, 59.651309, 42.512831 }, { 7332, 84.288446, 8.068322 },  { 2049, 6.091787, 31.333423 },
        { 5368, 24.731298, 10.858252 }, { 7753, 84.533669, 89.747038 }, { 5525, 78.211049, 33.862018 },
        { 1528, 81.434228, 87.524945 }, { 1994, 90.279366, 8.250759 },  { 6528, 93.10258, 86.307678 },
        { 1855, 93.708405, 48.183169 }, { 5676, 89.510051, 70.423322 }, { 5631, 18.441587, 52.69983 },
        { 4937, 16.161037, 66.428339 }, { 6674, 7.554291, 43.056411 },  { 5733, 95.442695, 31.261205 },
        { 1125, 51.013866, 16.977809 }, { 5084, 74.41406, 13.88303 },   { 6645, 57.784023, 78.817041 },
        { 4870, 44.421468, 67.09782 },  { 7974, 68.86483, 73.529381 },  { 5176, 91.938193, 13.35014 },
        { 4576, 48.155167, 99.186092 }, { 4478, 20.845475, 45.385204 }, { 4724, 82.568464, 67.621234 },
        { 6205, 65.630505, 37.544528 }, { 7440, 31.830577, 52.709976 }, { 2480, 16.155797, 41.815879 },
        { 3415, 29.306681, 43.245959 }, { 6289, 43.569928, 68.572551 }, { 3830, 10.994167, 1.964043 },
        { 6608, 28.826248, 51.037802 }, { 1103, 74.609247, 10.326279 }, { 1164, 68.047811, 12.233655 },
        { 1712, 53.836988, 83.8605 },   { 1076, 86.165628, 90.927132 }, { 5207, 89.616703, 47.817279 },
        { 6247, 6.538544, 22.044272 },  { 3734, 0.035902, 78.474371 },  { 5450, 5.469306, 53.942627 },
        { 1202, 11.811179, 93.73757 },  { 1983, 50.617969, 66.984828 }, { 7700, 14.751991, 46.450536 },
        { 7552, 89.044588, 91.438105 }, { 6870, 69.354376, 9.067512 },  { 7468, 34.538669, 25.376686 },
        { 5591, 21.325678, 79.947547 }, { 7341, 90.519071, 10.45726 },  { 3228, 18.421026, 2.199132 },
        { 5523, 68.294084, 89.762925 }, { 6463, 73.805489, 88.726351 }, { 1942, 59.651309, 42.512831 },
        { 7332, 84.288446, 8.068322 },  { 2049, 6.091787, 31.333423 },  { 5368, 24.731298, 10.858252 },
        { 7753, 84.533669, 89.747038 }, { 5525, 78.211049, 33.862018 }, { 1528, 81.434228, 87.524945 },
        { 1994, 90.279366, 8.250759 },  { 6528, 93.10258, 86.307678 },  { 1855, 93.708405, 48.183169 },
        { 5676, 89.510051, 70.423322 }, { 5631, 18.441587, 52.69983 },  { 4937, 16.161037, 66.428339 },
        { 6674, 7.554291, 43.056411 },  { 5733, 95.442695, 31.261205 }, { 1125, 51.013866, 16.977809 },
        { 5084, 74.41406, 13.88303 },   { 6645, 57.784023, 78.817041 }, { 4870, 44.421468, 67.09782 },
        { 7974, 68.86483, 73.529381 },  { 5176, 91.938193, 13.35014 },  { 4576, 48.155167, 99.186092 },
        { 4478, 20.845475, 45.385204 }, { 4724, 82.568464, 67.621234 }, { 6205, 65.630505, 37.544528 },
        { 7440, 31.830577, 52.709976 }, { 2480, 16.155797, 41.815879 }, { 3415, 29.306681, 43.245959 },
        { 6289, 43.569928, 68.572551 }
    };

    auto contours = std::unordered_map<uint32_t, std::vector<std::pair<float, float>>>();

    for (const auto &did_contour : did_contours)
    {
        contours[did_contour.contour_idx].emplace_back(did_contour.x, did_contour.y);
    }

    for (const auto &[idx, contour] : contours)
    {
        std::cout << "idx: " << idx << ", id: " << idx / REC__DETECT__FU_CONTOUR__MAX_NO << " |";
        for (const auto &[x, y] : contour)
        {
            std::cout << " {x: " << x << ", y: " << y << "}";
        }
        std::cout << std::endl;
    }

    return 0;
}
